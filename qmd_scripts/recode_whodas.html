<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Frederick Thielen">

<title>Tutorial: Computing WHODAS 2.0 Scores Using R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="recode_whodas_files/libs/clipboard/clipboard.min.js"></script>
<script src="recode_whodas_files/libs/quarto-html/quarto.js"></script>
<script src="recode_whodas_files/libs/quarto-html/popper.min.js"></script>
<script src="recode_whodas_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="recode_whodas_files/libs/quarto-html/anchor.min.js"></script>
<link href="recode_whodas_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="recode_whodas_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="recode_whodas_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="recode_whodas_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="recode_whodas_files/libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">

<link href="recode_whodas_files/libs/pagedtable-1.1/css/pagedtable.css" rel="stylesheet">
<script src="recode_whodas_files/libs/pagedtable-1.1/js/pagedtable.js"></script>


</head>

<body>

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">
<div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
  <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#introduction" id="toc-introduction" class="nav-link active" data-scroll-target="#introduction">Introduction</a></li>
  <li><a href="#generating-example-data" id="toc-generating-example-data" class="nav-link" data-scroll-target="#generating-example-data">Generating Example Data</a></li>
  <li><a href="#recoding-and-computing-whodas-scores" id="toc-recoding-and-computing-whodas-scores" class="nav-link" data-scroll-target="#recoding-and-computing-whodas-scores">Recoding and Computing WHODAS Scores</a></li>
  <li><a href="#running-the-function" id="toc-running-the-function" class="nav-link" data-scroll-target="#running-the-function">Running the function</a></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
</div>
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">Tutorial: Computing WHODAS 2.0 Scores Using R</h1><button type="button" class="btn code-tools-button dropdown-toggle" id="quarto-code-tools-menu" data-bs-toggle="dropdown" aria-expanded="false"><i class="bi"></i> Code</button><ul class="dropdown-menu dropdown-menu-end" aria-labelelledby="quarto-code-tools-menu"><li><a id="quarto-show-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Show All Code</a></li><li><a id="quarto-hide-all-code" class="dropdown-item" href="javascript:void(0)" role="button">Hide All Code</a></li><li><hr class="dropdown-divider"></li><li><a id="quarto-view-source" class="dropdown-item" href="javascript:void(0)" role="button">View Source</a></li></ul></div></div>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Frederick Thielen </p>
          </div>
  </div>
    
  
    
  </div>
  

</header>

<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This tutorial demonstrates how to compute the WHODAS 2.0 (World Health Organization Disability Assessment Schedule 2.0) scores using R. The WHODAS 2.0 is a tool designed to measure disability across six domains of functioning. Although a manual exists detailing how to compute the overall score using SPSS, a similar code for R has not been available until now. In this tutorial, we will go through a custom R function to calculate the WHODAS 2.0 scores.</p>
</section>
<section id="generating-example-data" class="level1">
<h1>Generating Example Data</h1>
<p>First, let’s create some example data to work with. We’ll generate a synthetic dataset of WHODAS responses, simulating responses from 10 individuals.</p>
<div class="cell">
<details>
<summary>Show R code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the response levels</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>whodas_responses <span class="ot">&lt;-</span> <span class="fu">fct</span>(<span class="fu">c</span>(<span class="st">"None"</span>, <span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span>, <span class="st">"Extreme or cannot do"</span>, <span class="cn">NA</span>))</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the column names corresponding to the WHODAS items</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>column_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D1_1"</span>, <span class="st">"D1_2"</span>, <span class="st">"D1_3"</span>, <span class="st">"D1_4"</span>, <span class="st">"D1_5"</span>, <span class="st">"D1_6"</span>,</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D2_1"</span>, <span class="st">"D2_2"</span>, <span class="st">"D2_3"</span>, <span class="st">"D2_4"</span>, <span class="st">"D2_5"</span>,</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D3_1"</span>, <span class="st">"D3_2"</span>, <span class="st">"D3_3"</span>, <span class="st">"D3_4"</span>,</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D4_1"</span>, <span class="st">"D4_2"</span>, <span class="st">"D4_3"</span>, <span class="st">"D4_4"</span>, <span class="st">"D4_5"</span>,</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D5_2"</span>, <span class="st">"D5_3"</span>, <span class="st">"D5_4"</span>, <span class="st">"D5_5"</span>, <span class="st">"D5_8"</span>, <span class="st">"D5_9"</span>, <span class="st">"D5_10"</span>, <span class="st">"D5_11"</span>,</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D6_1"</span>, <span class="st">"D6_2"</span>, <span class="st">"D6_3"</span>, <span class="st">"D6_4"</span>, <span class="st">"D6_5"</span>, <span class="st">"D6_6"</span>, <span class="st">"D6_7"</span>, <span class="st">"D6_8"</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating the data frame</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>df_whodas <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fu">length</span>(column_names), <span class="at">nrow =</span> <span class="dv">10</span>))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_whodas) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"id"</span>, column_names)</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a><span class="co"># Populating the data frame with random responses</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>df_whodas <span class="ot">&lt;-</span> df_whodas <span class="sc">%&gt;%</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">row_number</span>(),</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>      <span class="fu">contains</span>(<span class="st">"D"</span>, <span class="at">ignore.case =</span> F), <span class="sc">~</span> <span class="fu">sample</span>(</span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> whodas_responses,</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        <span class="at">replace =</span> T)</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>The sample data is presented in Table <a href="#tbl-df-example">Table&nbsp;1</a>.</p>
<div class="cell">
<details>
<summary>Show R code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>df_whodas</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-df-example" class="anchored">

<div data-pagedtable="false"> <div class="table-caption">Table&nbsp;1:  <p>Sample data for the WHODAS tutorial</p> </div>
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["int"],"align":["right"]},{"label":["D1_1"],"name":[2],"type":["fct"],"align":["left"]},{"label":["D1_2"],"name":[3],"type":["fct"],"align":["left"]},{"label":["D1_3"],"name":[4],"type":["fct"],"align":["left"]},{"label":["D1_4"],"name":[5],"type":["fct"],"align":["left"]},{"label":["D1_5"],"name":[6],"type":["fct"],"align":["left"]},{"label":["D1_6"],"name":[7],"type":["fct"],"align":["left"]},{"label":["D2_1"],"name":[8],"type":["fct"],"align":["left"]},{"label":["D2_2"],"name":[9],"type":["fct"],"align":["left"]},{"label":["D2_3"],"name":[10],"type":["fct"],"align":["left"]},{"label":["D2_4"],"name":[11],"type":["fct"],"align":["left"]},{"label":["D2_5"],"name":[12],"type":["fct"],"align":["left"]},{"label":["D3_1"],"name":[13],"type":["fct"],"align":["left"]},{"label":["D3_2"],"name":[14],"type":["fct"],"align":["left"]},{"label":["D3_3"],"name":[15],"type":["fct"],"align":["left"]},{"label":["D3_4"],"name":[16],"type":["fct"],"align":["left"]},{"label":["D4_1"],"name":[17],"type":["fct"],"align":["left"]},{"label":["D4_2"],"name":[18],"type":["fct"],"align":["left"]},{"label":["D4_3"],"name":[19],"type":["fct"],"align":["left"]},{"label":["D4_4"],"name":[20],"type":["fct"],"align":["left"]},{"label":["D4_5"],"name":[21],"type":["fct"],"align":["left"]},{"label":["D5_2"],"name":[22],"type":["fct"],"align":["left"]},{"label":["D5_3"],"name":[23],"type":["fct"],"align":["left"]},{"label":["D5_4"],"name":[24],"type":["fct"],"align":["left"]},{"label":["D5_5"],"name":[25],"type":["fct"],"align":["left"]},{"label":["D5_8"],"name":[26],"type":["fct"],"align":["left"]},{"label":["D5_9"],"name":[27],"type":["fct"],"align":["left"]},{"label":["D5_10"],"name":[28],"type":["fct"],"align":["left"]},{"label":["D5_11"],"name":[29],"type":["fct"],"align":["left"]},{"label":["D6_1"],"name":[30],"type":["fct"],"align":["left"]},{"label":["D6_2"],"name":[31],"type":["fct"],"align":["left"]},{"label":["D6_3"],"name":[32],"type":["fct"],"align":["left"]},{"label":["D6_4"],"name":[33],"type":["fct"],"align":["left"]},{"label":["D6_5"],"name":[34],"type":["fct"],"align":["left"]},{"label":["D6_6"],"name":[35],"type":["fct"],"align":["left"]},{"label":["D6_7"],"name":[36],"type":["fct"],"align":["left"]},{"label":["D6_8"],"name":[37],"type":["fct"],"align":["left"]}],"data":[{"1":"1","2":"Mild","3":"Extreme or cannot do","4":"Mild","5":"Severe","6":"Extreme or cannot do","7":"None","8":"Mild","9":"None","10":"None","11":"Severe","12":"Mild","13":"Moderate","14":"Moderate","15":"Moderate","16":"NA","17":"Extreme or cannot do","18":"Moderate","19":"Moderate","20":"Mild","21":"Moderate","22":"NA","23":"Mild","24":"NA","25":"Mild","26":"Moderate","27":"NA","28":"Mild","29":"Severe","30":"None","31":"Extreme or cannot do","32":"NA","33":"Moderate","34":"Extreme or cannot do","35":"NA","36":"Severe","37":"Severe"},{"1":"2","2":"Severe","3":"Extreme or cannot do","4":"None","5":"Moderate","6":"NA","7":"Severe","8":"Moderate","9":"Severe","10":"Mild","11":"Extreme or cannot do","12":"NA","13":"None","14":"Severe","15":"NA","16":"Extreme or cannot do","17":"NA","18":"Extreme or cannot do","19":"Extreme or cannot do","20":"NA","21":"Mild","22":"NA","23":"Severe","24":"Mild","25":"Mild","26":"Moderate","27":"Extreme or cannot do","28":"NA","29":"None","30":"Severe","31":"Mild","32":"Mild","33":"Extreme or cannot do","34":"Mild","35":"NA","36":"None","37":"Mild"},{"1":"3","2":"Extreme or cannot do","3":"Severe","4":"Mild","5":"Moderate","6":"Extreme or cannot do","7":"None","8":"Extreme or cannot do","9":"Extreme or cannot do","10":"Moderate","11":"Moderate","12":"Extreme or cannot do","13":"Extreme or cannot do","14":"Extreme or cannot do","15":"Severe","16":"Mild","17":"None","18":"Mild","19":"NA","20":"None","21":"NA","22":"Mild","23":"Mild","24":"Extreme or cannot do","25":"NA","26":"Severe","27":"Extreme or cannot do","28":"Extreme or cannot do","29":"None","30":"Extreme or cannot do","31":"Severe","32":"Extreme or cannot do","33":"Moderate","34":"Severe","35":"None","36":"NA","37":"Extreme or cannot do"},{"1":"4","2":"Moderate","3":"Mild","4":"Moderate","5":"Extreme or cannot do","6":"Severe","7":"Severe","8":"NA","9":"Moderate","10":"None","11":"Severe","12":"Mild","13":"Moderate","14":"None","15":"Extreme or cannot do","16":"Extreme or cannot do","17":"Severe","18":"None","19":"Moderate","20":"NA","21":"Mild","22":"Moderate","23":"Severe","24":"None","25":"Mild","26":"Extreme or cannot do","27":"Mild","28":"Mild","29":"None","30":"Mild","31":"Mild","32":"Severe","33":"Moderate","34":"Severe","35":"None","36":"Extreme or cannot do","37":"NA"},{"1":"5","2":"None","3":"Moderate","4":"Mild","5":"Extreme or cannot do","6":"Mild","7":"Mild","8":"NA","9":"Moderate","10":"Moderate","11":"NA","12":"None","13":"None","14":"Mild","15":"Extreme or cannot do","16":"None","17":"None","18":"Severe","19":"Severe","20":"Moderate","21":"Severe","22":"Extreme or cannot do","23":"Severe","24":"Moderate","25":"Extreme or cannot do","26":"Extreme or cannot do","27":"NA","28":"Extreme or cannot do","29":"Mild","30":"Mild","31":"NA","32":"Mild","33":"Mild","34":"Moderate","35":"Extreme or cannot do","36":"Moderate","37":"Extreme or cannot do"},{"1":"6","2":"Moderate","3":"None","4":"Extreme or cannot do","5":"Severe","6":"None","7":"NA","8":"NA","9":"NA","10":"Mild","11":"NA","12":"None","13":"NA","14":"Extreme or cannot do","15":"Extreme or cannot do","16":"None","17":"Extreme or cannot do","18":"Moderate","19":"None","20":"NA","21":"None","22":"NA","23":"Extreme or cannot do","24":"Extreme or cannot do","25":"Extreme or cannot do","26":"Mild","27":"Moderate","28":"None","29":"Mild","30":"Extreme or cannot do","31":"Severe","32":"Moderate","33":"None","34":"Extreme or cannot do","35":"None","36":"None","37":"NA"},{"1":"7","2":"Moderate","3":"Mild","4":"None","5":"None","6":"Mild","7":"Extreme or cannot do","8":"Severe","9":"None","10":"Severe","11":"None","12":"Mild","13":"Extreme or cannot do","14":"Mild","15":"Moderate","16":"Severe","17":"Moderate","18":"Extreme or cannot do","19":"Extreme or cannot do","20":"Severe","21":"Severe","22":"NA","23":"None","24":"Mild","25":"Moderate","26":"NA","27":"Moderate","28":"Extreme or cannot do","29":"Moderate","30":"Mild","31":"Mild","32":"NA","33":"None","34":"Mild","35":"Mild","36":"Severe","37":"None"},{"1":"8","2":"Mild","3":"Severe","4":"None","5":"Severe","6":"None","7":"None","8":"NA","9":"Mild","10":"Moderate","11":"Moderate","12":"None","13":"Extreme or cannot do","14":"Moderate","15":"NA","16":"None","17":"Severe","18":"Moderate","19":"Extreme or cannot do","20":"Mild","21":"NA","22":"None","23":"Moderate","24":"Severe","25":"Mild","26":"Severe","27":"Severe","28":"Mild","29":"NA","30":"Extreme or cannot do","31":"None","32":"Extreme or cannot do","33":"Extreme or cannot do","34":"None","35":"NA","36":"Extreme or cannot do","37":"Moderate"},{"1":"9","2":"Moderate","3":"None","4":"NA","5":"Mild","6":"Extreme or cannot do","7":"NA","8":"Severe","9":"None","10":"NA","11":"None","12":"Severe","13":"None","14":"Moderate","15":"Extreme or cannot do","16":"Moderate","17":"Severe","18":"Mild","19":"Mild","20":"NA","21":"NA","22":"NA","23":"Extreme or cannot do","24":"NA","25":"Extreme or cannot do","26":"Moderate","27":"NA","28":"NA","29":"Severe","30":"Moderate","31":"Moderate","32":"None","33":"NA","34":"Mild","35":"Mild","36":"None","37":"None"},{"1":"10","2":"None","3":"None","4":"NA","5":"NA","6":"Mild","7":"Mild","8":"Extreme or cannot do","9":"Extreme or cannot do","10":"Extreme or cannot do","11":"Extreme or cannot do","12":"None","13":"Extreme or cannot do","14":"Extreme or cannot do","15":"Mild","16":"None","17":"NA","18":"NA","19":"Extreme or cannot do","20":"Mild","21":"Moderate","22":"None","23":"Extreme or cannot do","24":"Severe","25":"Severe","26":"Severe","27":"Extreme or cannot do","28":"Severe","29":"NA","30":"Moderate","31":"NA","32":"Severe","33":"NA","34":"NA","35":"None","36":"Severe","37":"Moderate"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</section>
<section id="recoding-and-computing-whodas-scores" class="level1">
<h1>Recoding and Computing WHODAS Scores</h1>
<p>Now that we have our data, we’ll define a function to recode the responses and compute the WHODAS scores. This function takes in the WHODAS data and an optional argument to specify whether to include remunerated work items in the computation.</p>
<p>This function takes two arguments:</p>
<ol type="1">
<li><code>dat</code>: The dataset containing the WHODAS 2.0 responses.</li>
<li><code>remunarated_work_items</code>: A flag (either TRUE or FALSE) indicating whether to include remunerated work items in the computation. The default is FALSE.</li>
</ol>
<p>The <code>f_recode_whodas</code> function performs the following tasks:</p>
<ul>
<li>Checks for the presence of required columns in the dataset.</li>
<li>Recodes the responses based on specified rules.</li>
<li>Computes summary scores for each domain (e.g., <code>Do1</code>, <code>Do2</code>, etc.).</li>
<li>Calculates the overall WHODAS summary score (<code>st_s32</code> or <code>st_s36</code>), with or without the remunerated work items.</li>
<li>Adjusts the domain and overall summary scores by applying weights to normalize the scores to a 100-point scale.</li>
<li>Returns the original dataset with additional columns for the domain and overall summary scores.</li>
</ul>
<div class="cell">
<details open="">
<summary>Show R code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>f_recode_whodas <span class="ot">&lt;-</span> <span class="cf">function</span>(dat,</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>                            <span class="at">remunarated_work_items =</span> F) {</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>  <span class="co"># List of original column names and corresponding new column names</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>  col_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D1_1"</span>, <span class="st">"D1_2"</span>, <span class="st">"D1_3"</span>, <span class="st">"D1_4"</span>, <span class="st">"D1_5"</span>, <span class="st">"D1_6"</span>,</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D2_1"</span>, <span class="st">"D2_2"</span>, <span class="st">"D2_3"</span>, <span class="st">"D2_4"</span>, <span class="st">"D2_5"</span>,</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D3_1"</span>, <span class="st">"D3_2"</span>, <span class="st">"D3_3"</span>, <span class="st">"D3_4"</span>,</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D4_1"</span>, <span class="st">"D4_2"</span>, <span class="st">"D4_3"</span>, <span class="st">"D4_4"</span>, <span class="st">"D4_5"</span>,</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D5_2"</span>, <span class="st">"D5_3"</span>, <span class="st">"D5_4"</span>, <span class="st">"D5_5"</span>, </span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D6_1"</span>, <span class="st">"D6_2"</span>, <span class="st">"D6_3"</span>, <span class="st">"D6_4"</span>, <span class="st">"D6_5"</span>, <span class="st">"D6_6"</span>, <span class="st">"D6_7"</span>, <span class="st">"D6_8"</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Include additional columns for remunerated work items if specified</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (remunarated_work_items) {</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>    col_names <span class="ot">&lt;-</span> <span class="fu">c</span>(col_names, <span class="st">"D5_8"</span>, <span class="st">"D5_9"</span>, <span class="st">"D5_10"</span>, <span class="st">"D5_11"</span>)</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check for the presence of required columns in the input dataset</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">setdiff</span>(col_names, <span class="fu">names</span>(dat))) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">stop</span>(<span class="fu">cat</span>(</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    <span class="st">"All WHO-DAS D columns need to be present in dat. The following are missing:"</span>,</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setdiff</span>(col_names, <span class="fu">names</span>(dat))))</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Generate new column names by removing underscores</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>  new_col_names <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"_"</span>, <span class="st">""</span>, col_names)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define recode rules for general and specific columns</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>  recode_rules_general <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>  recode_rules_specific <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Iterate over each column to apply recode rules</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(col_names)) {</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>    original_col_name <span class="ot">&lt;-</span> col_names[i]</span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>    new_col_name <span class="ot">&lt;-</span> new_col_names[i]</span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply specific recode rules for certain columns</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (original_col_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"D1_5"</span>, <span class="st">"D1_6"</span>, <span class="st">"D2_2"</span>, <span class="st">"D2_3"</span>, <span class="st">"D3_1"</span>, <span class="st">"D3_3"</span>, <span class="st">"D3_4"</span>, </span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"D4_1"</span>, <span class="st">"D4_2"</span>, <span class="st">"D4_3"</span>, <span class="st">"D4_5"</span>, <span class="st">"D5_2"</span>, <span class="st">"D5_3"</span>, <span class="st">"D5_5"</span>, </span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"D5_8"</span>, <span class="st">"D6_1"</span>, <span class="st">"D6_3"</span>, <span class="st">"D6_6"</span>, <span class="st">"D6_8"</span>)) {</span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>      dat[[new_col_name]] <span class="ot">&lt;-</span> recode_rules_specific[dat[[original_col_name]]]</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a>      dat[[new_col_name]] <span class="ot">&lt;-</span> recode_rules_general[dat[[original_col_name]]]</span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summary scores of domains (do), where domain 1 is abbreviated as Do1, etc.</span></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do1 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D11 <span class="sc">+</span> dat<span class="sc">$</span>D12 <span class="sc">+</span> dat<span class="sc">$</span>D13 <span class="sc">+</span> dat<span class="sc">$</span>D14 <span class="sc">+</span> dat<span class="sc">$</span>D15 <span class="sc">+</span> dat<span class="sc">$</span>D16)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do2 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D21 <span class="sc">+</span> dat<span class="sc">$</span>D22 <span class="sc">+</span> dat<span class="sc">$</span>D23 <span class="sc">+</span> dat<span class="sc">$</span>D24 <span class="sc">+</span> dat<span class="sc">$</span>D25)</span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do3 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D31 <span class="sc">+</span> dat<span class="sc">$</span>D32 <span class="sc">+</span> dat<span class="sc">$</span>D33 <span class="sc">+</span> dat<span class="sc">$</span>D34)</span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do4 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D41 <span class="sc">+</span> dat<span class="sc">$</span>D42 <span class="sc">+</span> dat<span class="sc">$</span>D43 <span class="sc">+</span> dat<span class="sc">$</span>D44 <span class="sc">+</span> dat<span class="sc">$</span>D45)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do51 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D52 <span class="sc">+</span> dat<span class="sc">$</span>D53 <span class="sc">+</span> dat<span class="sc">$</span>D54 <span class="sc">+</span> dat<span class="sc">$</span>D55)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do6 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D61 <span class="sc">+</span> dat<span class="sc">$</span>D62 <span class="sc">+</span> dat<span class="sc">$</span>D63 <span class="sc">+</span> dat<span class="sc">$</span>D64 <span class="sc">+</span> dat<span class="sc">$</span>D65 <span class="sc">+</span> dat<span class="sc">$</span>D66 <span class="sc">+</span> </span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a>                dat<span class="sc">$</span>D67 <span class="sc">+</span> dat<span class="sc">$</span>D68)</span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a>  <span class="co"># WHODAS summary score without remunerated work items</span></span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>st_s32 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do1 <span class="sc">+</span> dat<span class="sc">$</span>Do2 <span class="sc">+</span> dat<span class="sc">$</span>Do3 <span class="sc">+</span> dat<span class="sc">$</span>Do4 <span class="sc">+</span> dat<span class="sc">$</span>Do51 <span class="sc">+</span> dat<span class="sc">$</span>Do6 </span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Include remunerated work items if specified</span></span>
<span id="cb3-60"><a href="#cb3-60" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(remunarated_work_items){</span>
<span id="cb3-61"><a href="#cb3-61" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-62"><a href="#cb3-62" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Domain summary score for remunerated</span></span>
<span id="cb3-63"><a href="#cb3-63" aria-hidden="true" tabindex="-1"></a>    dat<span class="sc">$</span>Do52 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D58 <span class="sc">+</span> dat<span class="sc">$</span>D59 <span class="sc">+</span> dat<span class="sc">$</span>D510 <span class="sc">+</span> dat<span class="sc">$</span>D511)</span>
<span id="cb3-64"><a href="#cb3-64" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb3-65"><a href="#cb3-65" aria-hidden="true" tabindex="-1"></a>    <span class="co"># WHODAS summary score without remunerated work items</span></span>
<span id="cb3-66"><a href="#cb3-66" aria-hidden="true" tabindex="-1"></a>    dat<span class="sc">$</span>st_s36 <span class="ot">&lt;-</span> dat<span class="sc">$</span>st_s32 <span class="sc">+</span> dat<span class="sc">$</span>Do52</span>
<span id="cb3-67"><a href="#cb3-67" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-68"><a href="#cb3-68" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb3-69"><a href="#cb3-69" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Apply weights to normalize domain and overall summary scores to a 100-point scale</span></span>
<span id="cb3-70"><a href="#cb3-70" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do1 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do1 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">20</span></span>
<span id="cb3-71"><a href="#cb3-71" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do2 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do2 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">16</span></span>
<span id="cb3-72"><a href="#cb3-72" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do3 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do3 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">10</span></span>
<span id="cb3-73"><a href="#cb3-73" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do4 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do4 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">12</span></span>
<span id="cb3-74"><a href="#cb3-74" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do51 <span class="ot">&lt;-</span>dat<span class="sc">$</span>Do51 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">10</span></span>
<span id="cb3-75"><a href="#cb3-75" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do6 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do6 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">24</span></span>
<span id="cb3-76"><a href="#cb3-76" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>st_s32 <span class="ot">&lt;-</span>  dat<span class="sc">$</span>st_s32 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">92</span></span>
<span id="cb3-77"><a href="#cb3-77" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-78"><a href="#cb3-78" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(remunarated_work_items){</span>
<span id="cb3-79"><a href="#cb3-79" aria-hidden="true" tabindex="-1"></a>    dat<span class="sc">$</span>Do52 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do52 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">14</span></span>
<span id="cb3-80"><a href="#cb3-80" aria-hidden="true" tabindex="-1"></a>      dat<span class="sc">$</span>st_s36 <span class="ot">&lt;-</span> dat<span class="sc">$</span>st_s36 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">106</span></span>
<span id="cb3-81"><a href="#cb3-81" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb3-82"><a href="#cb3-82" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb3-83"><a href="#cb3-83" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return the dataset with additional summary score columns</span></span>
<span id="cb3-84"><a href="#cb3-84" aria-hidden="true" tabindex="-1"></a>  dat</span>
<span id="cb3-85"><a href="#cb3-85" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="running-the-function" class="level1">
<h1>Running the function</h1>
<p>To execute the function, we can pass the dataset as the <code>dat</code> argument. If the dataset includes remunerated work items, set <code>remunarated_work_items</code> to <code>TRUE</code>. The function will return a new dataset with the computed domain and overall summary scores.</p>
<p>The result is shown in Table <a href="#tbl-df-result">Table&nbsp;2</a>.</p>
<div class="cell">
<details>
<summary>Show R code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">f_recode_whodas</span>(<span class="at">dat =</span> df_whodas, <span class="at">remunarated_work_items =</span> T)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output-display">
<div id="tbl-df-result" class="anchored">

<div data-pagedtable="false"> <div class="table-caption">Table&nbsp;2:  <p>Results table after appyling function f_recode_whodas</p> </div>
  <script data-pagedtable-source="" type="application/json">
{"columns":[{"label":["id"],"name":[1],"type":["int"],"align":["right"]},{"label":["D1_1"],"name":[2],"type":["fct"],"align":["left"]},{"label":["D1_2"],"name":[3],"type":["fct"],"align":["left"]},{"label":["D1_3"],"name":[4],"type":["fct"],"align":["left"]},{"label":["D1_4"],"name":[5],"type":["fct"],"align":["left"]},{"label":["D1_5"],"name":[6],"type":["fct"],"align":["left"]},{"label":["D1_6"],"name":[7],"type":["fct"],"align":["left"]},{"label":["D2_1"],"name":[8],"type":["fct"],"align":["left"]},{"label":["D2_2"],"name":[9],"type":["fct"],"align":["left"]},{"label":["D2_3"],"name":[10],"type":["fct"],"align":["left"]},{"label":["D2_4"],"name":[11],"type":["fct"],"align":["left"]},{"label":["D2_5"],"name":[12],"type":["fct"],"align":["left"]},{"label":["D3_1"],"name":[13],"type":["fct"],"align":["left"]},{"label":["D3_2"],"name":[14],"type":["fct"],"align":["left"]},{"label":["D3_3"],"name":[15],"type":["fct"],"align":["left"]},{"label":["D3_4"],"name":[16],"type":["fct"],"align":["left"]},{"label":["D4_1"],"name":[17],"type":["fct"],"align":["left"]},{"label":["D4_2"],"name":[18],"type":["fct"],"align":["left"]},{"label":["D4_3"],"name":[19],"type":["fct"],"align":["left"]},{"label":["D4_4"],"name":[20],"type":["fct"],"align":["left"]},{"label":["D4_5"],"name":[21],"type":["fct"],"align":["left"]},{"label":["D5_2"],"name":[22],"type":["fct"],"align":["left"]},{"label":["D5_3"],"name":[23],"type":["fct"],"align":["left"]},{"label":["D5_4"],"name":[24],"type":["fct"],"align":["left"]},{"label":["D5_5"],"name":[25],"type":["fct"],"align":["left"]},{"label":["D5_8"],"name":[26],"type":["fct"],"align":["left"]},{"label":["D5_9"],"name":[27],"type":["fct"],"align":["left"]},{"label":["D5_10"],"name":[28],"type":["fct"],"align":["left"]},{"label":["D5_11"],"name":[29],"type":["fct"],"align":["left"]},{"label":["D6_1"],"name":[30],"type":["fct"],"align":["left"]},{"label":["D6_2"],"name":[31],"type":["fct"],"align":["left"]},{"label":["D6_3"],"name":[32],"type":["fct"],"align":["left"]},{"label":["D6_4"],"name":[33],"type":["fct"],"align":["left"]},{"label":["D6_5"],"name":[34],"type":["fct"],"align":["left"]},{"label":["D6_6"],"name":[35],"type":["fct"],"align":["left"]},{"label":["D6_7"],"name":[36],"type":["fct"],"align":["left"]},{"label":["D6_8"],"name":[37],"type":["fct"],"align":["left"]},{"label":["D11"],"name":[38],"type":["dbl"],"align":["right"]},{"label":["D12"],"name":[39],"type":["dbl"],"align":["right"]},{"label":["D13"],"name":[40],"type":["dbl"],"align":["right"]},{"label":["D14"],"name":[41],"type":["dbl"],"align":["right"]},{"label":["D15"],"name":[42],"type":["dbl"],"align":["right"]},{"label":["D16"],"name":[43],"type":["dbl"],"align":["right"]},{"label":["D21"],"name":[44],"type":["dbl"],"align":["right"]},{"label":["D22"],"name":[45],"type":["dbl"],"align":["right"]},{"label":["D23"],"name":[46],"type":["dbl"],"align":["right"]},{"label":["D24"],"name":[47],"type":["dbl"],"align":["right"]},{"label":["D25"],"name":[48],"type":["dbl"],"align":["right"]},{"label":["D31"],"name":[49],"type":["dbl"],"align":["right"]},{"label":["D32"],"name":[50],"type":["dbl"],"align":["right"]},{"label":["D33"],"name":[51],"type":["dbl"],"align":["right"]},{"label":["D34"],"name":[52],"type":["dbl"],"align":["right"]},{"label":["D41"],"name":[53],"type":["dbl"],"align":["right"]},{"label":["D42"],"name":[54],"type":["dbl"],"align":["right"]},{"label":["D43"],"name":[55],"type":["dbl"],"align":["right"]},{"label":["D44"],"name":[56],"type":["dbl"],"align":["right"]},{"label":["D45"],"name":[57],"type":["dbl"],"align":["right"]},{"label":["D52"],"name":[58],"type":["dbl"],"align":["right"]},{"label":["D53"],"name":[59],"type":["dbl"],"align":["right"]},{"label":["D54"],"name":[60],"type":["dbl"],"align":["right"]},{"label":["D55"],"name":[61],"type":["dbl"],"align":["right"]},{"label":["D61"],"name":[62],"type":["dbl"],"align":["right"]},{"label":["D62"],"name":[63],"type":["dbl"],"align":["right"]},{"label":["D63"],"name":[64],"type":["dbl"],"align":["right"]},{"label":["D64"],"name":[65],"type":["dbl"],"align":["right"]},{"label":["D65"],"name":[66],"type":["dbl"],"align":["right"]},{"label":["D66"],"name":[67],"type":["dbl"],"align":["right"]},{"label":["D67"],"name":[68],"type":["dbl"],"align":["right"]},{"label":["D68"],"name":[69],"type":["dbl"],"align":["right"]},{"label":["D58"],"name":[70],"type":["dbl"],"align":["right"]},{"label":["D59"],"name":[71],"type":["dbl"],"align":["right"]},{"label":["D510"],"name":[72],"type":["dbl"],"align":["right"]},{"label":["D511"],"name":[73],"type":["dbl"],"align":["right"]},{"label":["Do1"],"name":[74],"type":["dbl"],"align":["right"]},{"label":["Do2"],"name":[75],"type":["dbl"],"align":["right"]},{"label":["Do3"],"name":[76],"type":["dbl"],"align":["right"]},{"label":["Do4"],"name":[77],"type":["dbl"],"align":["right"]},{"label":["Do51"],"name":[78],"type":["dbl"],"align":["right"]},{"label":["Do6"],"name":[79],"type":["dbl"],"align":["right"]},{"label":["st_s32"],"name":[80],"type":["dbl"],"align":["right"]},{"label":["Do52"],"name":[81],"type":["dbl"],"align":["right"]},{"label":["st_s36"],"name":[82],"type":["dbl"],"align":["right"]}],"data":[{"1":"1","2":"Mild","3":"Extreme or cannot do","4":"Mild","5":"Severe","6":"Extreme or cannot do","7":"None","8":"Mild","9":"None","10":"None","11":"Severe","12":"Mild","13":"Moderate","14":"Moderate","15":"Moderate","16":"NA","17":"Extreme or cannot do","18":"Moderate","19":"Moderate","20":"Mild","21":"Moderate","22":"NA","23":"Mild","24":"NA","25":"Mild","26":"Moderate","27":"NA","28":"Mild","29":"Severe","30":"None","31":"Extreme or cannot do","32":"NA","33":"Moderate","34":"Extreme or cannot do","35":"NA","36":"Severe","37":"Severe","38":"1","39":"4","40":"1","41":"3","42":"2","43":"0","44":"1","45":"0","46":"0","47":"3","48":"1","49":"1","50":"2","51":"1","52":"NA","53":"2","54":"1","55":"1","56":"1","57":"1","58":"NA","59":"1","60":"NA","61":"1","62":"0","63":"4","64":"NA","65":"2","66":"4","67":"NA","68":"3","69":"2","70":"1","71":"NA","72":"1","73":"3","74":"55","75":"31.25","76":"NA","77":"50.00000","78":"NA","79":"NA","80":"NA","81":"NA","82":"NA"},{"1":"2","2":"Severe","3":"Extreme or cannot do","4":"None","5":"Moderate","6":"NA","7":"Severe","8":"Moderate","9":"Severe","10":"Mild","11":"Extreme or cannot do","12":"NA","13":"None","14":"Severe","15":"NA","16":"Extreme or cannot do","17":"NA","18":"Extreme or cannot do","19":"Extreme or cannot do","20":"NA","21":"Mild","22":"NA","23":"Severe","24":"Mild","25":"Mild","26":"Moderate","27":"Extreme or cannot do","28":"NA","29":"None","30":"Severe","31":"Mild","32":"Mild","33":"Extreme or cannot do","34":"Mild","35":"NA","36":"None","37":"Mild","38":"3","39":"4","40":"0","41":"2","42":"NA","43":"2","44":"2","45":"2","46":"1","47":"4","48":"NA","49":"0","50":"3","51":"NA","52":"2","53":"NA","54":"2","55":"2","56":"NA","57":"1","58":"NA","59":"2","60":"1","61":"1","62":"2","63":"1","64":"1","65":"4","66":"1","67":"NA","68":"0","69":"1","70":"1","71":"4","72":"NA","73":"0","74":"NA","75":"NA","76":"NA","77":"NA","78":"NA","79":"NA","80":"NA","81":"NA","82":"NA"},{"1":"3","2":"Extreme or cannot do","3":"Severe","4":"Mild","5":"Moderate","6":"Extreme or cannot do","7":"None","8":"Extreme or cannot do","9":"Extreme or cannot do","10":"Moderate","11":"Moderate","12":"Extreme or cannot do","13":"Extreme or cannot do","14":"Extreme or cannot do","15":"Severe","16":"Mild","17":"None","18":"Mild","19":"NA","20":"None","21":"NA","22":"Mild","23":"Mild","24":"Extreme or cannot do","25":"NA","26":"Severe","27":"Extreme or cannot do","28":"Extreme or cannot do","29":"None","30":"Extreme or cannot do","31":"Severe","32":"Extreme or cannot do","33":"Moderate","34":"Severe","35":"None","36":"NA","37":"Extreme or cannot do","38":"4","39":"3","40":"1","41":"2","42":"2","43":"0","44":"4","45":"2","46":"1","47":"2","48":"4","49":"2","50":"4","51":"2","52":"1","53":"0","54":"1","55":"NA","56":"0","57":"NA","58":"1","59":"1","60":"4","61":"NA","62":"2","63":"3","64":"2","65":"2","66":"3","67":"0","68":"NA","69":"2","70":"2","71":"4","72":"4","73":"0","74":"60","75":"81.25","76":"90","77":"NA","78":"NA","79":"NA","80":"NA","81":"71.42857","82":"NA"},{"1":"4","2":"Moderate","3":"Mild","4":"Moderate","5":"Extreme or cannot do","6":"Severe","7":"Severe","8":"NA","9":"Moderate","10":"None","11":"Severe","12":"Mild","13":"Moderate","14":"None","15":"Extreme or cannot do","16":"Extreme or cannot do","17":"Severe","18":"None","19":"Moderate","20":"NA","21":"Mild","22":"Moderate","23":"Severe","24":"None","25":"Mild","26":"Extreme or cannot do","27":"Mild","28":"Mild","29":"None","30":"Mild","31":"Mild","32":"Severe","33":"Moderate","34":"Severe","35":"None","36":"Extreme or cannot do","37":"NA","38":"2","39":"1","40":"2","41":"4","42":"2","43":"2","44":"NA","45":"1","46":"0","47":"3","48":"1","49":"1","50":"0","51":"2","52":"2","53":"2","54":"0","55":"1","56":"NA","57":"1","58":"1","59":"2","60":"0","61":"1","62":"1","63":"1","64":"2","65":"2","66":"3","67":"0","68":"4","69":"NA","70":"2","71":"1","72":"1","73":"0","74":"65","75":"NA","76":"50","77":"NA","78":"40","79":"NA","80":"NA","81":"28.57143","82":"NA"},{"1":"5","2":"None","3":"Moderate","4":"Mild","5":"Extreme or cannot do","6":"Mild","7":"Mild","8":"NA","9":"Moderate","10":"Moderate","11":"NA","12":"None","13":"None","14":"Mild","15":"Extreme or cannot do","16":"None","17":"None","18":"Severe","19":"Severe","20":"Moderate","21":"Severe","22":"Extreme or cannot do","23":"Severe","24":"Moderate","25":"Extreme or cannot do","26":"Extreme or cannot do","27":"NA","28":"Extreme or cannot do","29":"Mild","30":"Mild","31":"NA","32":"Mild","33":"Mild","34":"Moderate","35":"Extreme or cannot do","36":"Moderate","37":"Extreme or cannot do","38":"0","39":"2","40":"1","41":"4","42":"1","43":"1","44":"NA","45":"1","46":"1","47":"NA","48":"0","49":"0","50":"1","51":"2","52":"0","53":"0","54":"2","55":"2","56":"2","57":"2","58":"2","59":"2","60":"2","61":"2","62":"1","63":"NA","64":"1","65":"1","66":"2","67":"2","68":"2","69":"2","70":"2","71":"NA","72":"4","73":"1","74":"45","75":"NA","76":"30","77":"66.66667","78":"80","79":"NA","80":"NA","81":"NA","82":"NA"},{"1":"6","2":"Moderate","3":"None","4":"Extreme or cannot do","5":"Severe","6":"None","7":"NA","8":"NA","9":"NA","10":"Mild","11":"NA","12":"None","13":"NA","14":"Extreme or cannot do","15":"Extreme or cannot do","16":"None","17":"Extreme or cannot do","18":"Moderate","19":"None","20":"NA","21":"None","22":"NA","23":"Extreme or cannot do","24":"Extreme or cannot do","25":"Extreme or cannot do","26":"Mild","27":"Moderate","28":"None","29":"Mild","30":"Extreme or cannot do","31":"Severe","32":"Moderate","33":"None","34":"Extreme or cannot do","35":"None","36":"None","37":"NA","38":"2","39":"0","40":"4","41":"3","42":"0","43":"NA","44":"NA","45":"NA","46":"1","47":"NA","48":"0","49":"NA","50":"4","51":"2","52":"0","53":"2","54":"1","55":"0","56":"NA","57":"0","58":"NA","59":"2","60":"4","61":"2","62":"2","63":"3","64":"1","65":"0","66":"4","67":"0","68":"0","69":"NA","70":"1","71":"2","72":"0","73":"1","74":"NA","75":"NA","76":"NA","77":"NA","78":"NA","79":"NA","80":"NA","81":"28.57143","82":"NA"},{"1":"7","2":"Moderate","3":"Mild","4":"None","5":"None","6":"Mild","7":"Extreme or cannot do","8":"Severe","9":"None","10":"Severe","11":"None","12":"Mild","13":"Extreme or cannot do","14":"Mild","15":"Moderate","16":"Severe","17":"Moderate","18":"Extreme or cannot do","19":"Extreme or cannot do","20":"Severe","21":"Severe","22":"NA","23":"None","24":"Mild","25":"Moderate","26":"NA","27":"Moderate","28":"Extreme or cannot do","29":"Moderate","30":"Mild","31":"Mild","32":"NA","33":"None","34":"Mild","35":"Mild","36":"Severe","37":"None","38":"2","39":"1","40":"0","41":"0","42":"1","43":"2","44":"3","45":"0","46":"2","47":"0","48":"1","49":"2","50":"1","51":"1","52":"2","53":"1","54":"2","55":"2","56":"3","57":"2","58":"NA","59":"0","60":"1","61":"1","62":"1","63":"1","64":"NA","65":"0","66":"1","67":"1","68":"3","69":"0","70":"NA","71":"2","72":"4","73":"2","74":"30","75":"37.50","76":"60","77":"83.33333","78":"NA","79":"NA","80":"NA","81":"NA","82":"NA"},{"1":"8","2":"Mild","3":"Severe","4":"None","5":"Severe","6":"None","7":"None","8":"NA","9":"Mild","10":"Moderate","11":"Moderate","12":"None","13":"Extreme or cannot do","14":"Moderate","15":"NA","16":"None","17":"Severe","18":"Moderate","19":"Extreme or cannot do","20":"Mild","21":"NA","22":"None","23":"Moderate","24":"Severe","25":"Mild","26":"Severe","27":"Severe","28":"Mild","29":"NA","30":"Extreme or cannot do","31":"None","32":"Extreme or cannot do","33":"Extreme or cannot do","34":"None","35":"NA","36":"Extreme or cannot do","37":"Moderate","38":"1","39":"3","40":"0","41":"3","42":"0","43":"0","44":"NA","45":"1","46":"1","47":"2","48":"0","49":"2","50":"2","51":"NA","52":"0","53":"2","54":"1","55":"2","56":"1","57":"NA","58":"0","59":"1","60":"3","61":"1","62":"2","63":"0","64":"2","65":"4","66":"0","67":"NA","68":"4","69":"1","70":"2","71":"3","72":"1","73":"NA","74":"35","75":"NA","76":"NA","77":"NA","78":"50","79":"NA","80":"NA","81":"NA","82":"NA"},{"1":"9","2":"Moderate","3":"None","4":"NA","5":"Mild","6":"Extreme or cannot do","7":"NA","8":"Severe","9":"None","10":"NA","11":"None","12":"Severe","13":"None","14":"Moderate","15":"Extreme or cannot do","16":"Moderate","17":"Severe","18":"Mild","19":"Mild","20":"NA","21":"NA","22":"NA","23":"Extreme or cannot do","24":"NA","25":"Extreme or cannot do","26":"Moderate","27":"NA","28":"NA","29":"Severe","30":"Moderate","31":"Moderate","32":"None","33":"NA","34":"Mild","35":"Mild","36":"None","37":"None","38":"2","39":"0","40":"NA","41":"1","42":"2","43":"NA","44":"3","45":"0","46":"NA","47":"0","48":"3","49":"0","50":"2","51":"2","52":"1","53":"2","54":"1","55":"1","56":"NA","57":"NA","58":"NA","59":"2","60":"NA","61":"2","62":"1","63":"2","64":"0","65":"NA","66":"1","67":"1","68":"0","69":"0","70":"1","71":"NA","72":"NA","73":"3","74":"NA","75":"NA","76":"50","77":"NA","78":"NA","79":"NA","80":"NA","81":"NA","82":"NA"},{"1":"10","2":"None","3":"None","4":"NA","5":"NA","6":"Mild","7":"Mild","8":"Extreme or cannot do","9":"Extreme or cannot do","10":"Extreme or cannot do","11":"Extreme or cannot do","12":"None","13":"Extreme or cannot do","14":"Extreme or cannot do","15":"Mild","16":"None","17":"NA","18":"NA","19":"Extreme or cannot do","20":"Mild","21":"Moderate","22":"None","23":"Extreme or cannot do","24":"Severe","25":"Severe","26":"Severe","27":"Extreme or cannot do","28":"Severe","29":"NA","30":"Moderate","31":"NA","32":"Severe","33":"NA","34":"NA","35":"None","36":"Severe","37":"Moderate","38":"0","39":"0","40":"NA","41":"NA","42":"1","43":"1","44":"4","45":"2","46":"2","47":"4","48":"0","49":"2","50":"4","51":"1","52":"0","53":"NA","54":"NA","55":"2","56":"1","57":"1","58":"0","59":"2","60":"3","61":"2","62":"1","63":"NA","64":"2","65":"NA","66":"NA","67":"0","68":"3","69":"1","70":"2","71":"4","72":"3","73":"NA","74":"NA","75":"75.00","76":"70","77":"NA","78":"70","79":"NA","80":"NA","81":"NA","82":"NA"}],"options":{"columns":{"min":{},"max":[10]},"rows":{"min":[10],"max":[10]},"pages":{}}}
  </script>
</div>
</div>
</div>
</div>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>With the <code>f_recode_whodas</code> function, calculating WHODAS 2.0 scores in R is now straightforward. We can easily integrate this function into the data analysis workflow to compute disability scores.</p>
<!-- -->

</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb5" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "Tutorial: Computing WHODAS 2.0 Scores Using R"</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> "Frederick Thielen"</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="an">theme:</span><span class="co"> default</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a><span class="co">  html:</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a><span class="co">    toc: true</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a><span class="co">    df-print: paged</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a><span class="co">    code-fold: true</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="co">    code-copy: true</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="co">    code-summary: "Show R code"</span></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a><span class="in">```{r setup, include=FALSE}</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Load necessary library</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(forcats)</span>
<span id="cb5-19"><a href="#cb5-19" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-20"><a href="#cb5-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-21"><a href="#cb5-21" aria-hidden="true" tabindex="-1"></a><span class="fu"># Introduction</span></span>
<span id="cb5-22"><a href="#cb5-22" aria-hidden="true" tabindex="-1"></a>This tutorial demonstrates how to compute the WHODAS 2.0 (World Health Organization Disability Assessment Schedule 2.0) scores using R. The WHODAS 2.0 is a tool designed to measure disability across six domains of functioning. Although a manual exists detailing how to compute the overall score using SPSS, a similar code for R has not been available until now. In this tutorial, we will go through a custom R function to calculate the WHODAS 2.0 scores.</span>
<span id="cb5-23"><a href="#cb5-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-24"><a href="#cb5-24" aria-hidden="true" tabindex="-1"></a><span class="fu"># Generating Example Data</span></span>
<span id="cb5-25"><a href="#cb5-25" aria-hidden="true" tabindex="-1"></a>First, let's create some example data to work with. We'll generate a synthetic dataset of WHODAS responses, simulating responses from 10 individuals.</span>
<span id="cb5-26"><a href="#cb5-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-29"><a href="#cb5-29" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-30"><a href="#cb5-30" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the response levels</span></span>
<span id="cb5-31"><a href="#cb5-31" aria-hidden="true" tabindex="-1"></a>whodas_responses <span class="ot">&lt;-</span> <span class="fu">fct</span>(<span class="fu">c</span>(<span class="st">"None"</span>, <span class="st">"Mild"</span>, <span class="st">"Moderate"</span>, <span class="st">"Severe"</span>, <span class="st">"Extreme or cannot do"</span>, <span class="cn">NA</span>))</span>
<span id="cb5-32"><a href="#cb5-32" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-33"><a href="#cb5-33" aria-hidden="true" tabindex="-1"></a><span class="co"># Defining the column names corresponding to the WHODAS items</span></span>
<span id="cb5-34"><a href="#cb5-34" aria-hidden="true" tabindex="-1"></a>column_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb5-35"><a href="#cb5-35" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D1_1"</span>, <span class="st">"D1_2"</span>, <span class="st">"D1_3"</span>, <span class="st">"D1_4"</span>, <span class="st">"D1_5"</span>, <span class="st">"D1_6"</span>,</span>
<span id="cb5-36"><a href="#cb5-36" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D2_1"</span>, <span class="st">"D2_2"</span>, <span class="st">"D2_3"</span>, <span class="st">"D2_4"</span>, <span class="st">"D2_5"</span>,</span>
<span id="cb5-37"><a href="#cb5-37" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D3_1"</span>, <span class="st">"D3_2"</span>, <span class="st">"D3_3"</span>, <span class="st">"D3_4"</span>,</span>
<span id="cb5-38"><a href="#cb5-38" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D4_1"</span>, <span class="st">"D4_2"</span>, <span class="st">"D4_3"</span>, <span class="st">"D4_4"</span>, <span class="st">"D4_5"</span>,</span>
<span id="cb5-39"><a href="#cb5-39" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D5_2"</span>, <span class="st">"D5_3"</span>, <span class="st">"D5_4"</span>, <span class="st">"D5_5"</span>, <span class="st">"D5_8"</span>, <span class="st">"D5_9"</span>, <span class="st">"D5_10"</span>, <span class="st">"D5_11"</span>,</span>
<span id="cb5-40"><a href="#cb5-40" aria-hidden="true" tabindex="-1"></a>  <span class="st">"D6_1"</span>, <span class="st">"D6_2"</span>, <span class="st">"D6_3"</span>, <span class="st">"D6_4"</span>, <span class="st">"D6_5"</span>, <span class="st">"D6_6"</span>, <span class="st">"D6_7"</span>, <span class="st">"D6_8"</span></span>
<span id="cb5-41"><a href="#cb5-41" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb5-42"><a href="#cb5-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-43"><a href="#cb5-43" aria-hidden="true" tabindex="-1"></a><span class="co"># Generating the data frame</span></span>
<span id="cb5-44"><a href="#cb5-44" aria-hidden="true" tabindex="-1"></a>df_whodas <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="fu">matrix</span>(<span class="at">ncol =</span> <span class="dv">1</span> <span class="sc">+</span> <span class="fu">length</span>(column_names), <span class="at">nrow =</span> <span class="dv">10</span>))</span>
<span id="cb5-45"><a href="#cb5-45" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(df_whodas) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"id"</span>, column_names)</span>
<span id="cb5-46"><a href="#cb5-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-47"><a href="#cb5-47" aria-hidden="true" tabindex="-1"></a><span class="co"># Populating the data frame with random responses</span></span>
<span id="cb5-48"><a href="#cb5-48" aria-hidden="true" tabindex="-1"></a>df_whodas <span class="ot">&lt;-</span> df_whodas <span class="sc">%&gt;%</span></span>
<span id="cb5-49"><a href="#cb5-49" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(</span>
<span id="cb5-50"><a href="#cb5-50" aria-hidden="true" tabindex="-1"></a>    <span class="at">id =</span> <span class="fu">row_number</span>(),</span>
<span id="cb5-51"><a href="#cb5-51" aria-hidden="true" tabindex="-1"></a>    <span class="fu">across</span>(</span>
<span id="cb5-52"><a href="#cb5-52" aria-hidden="true" tabindex="-1"></a>      <span class="fu">contains</span>(<span class="st">"D"</span>, <span class="at">ignore.case =</span> F), <span class="sc">~</span> <span class="fu">sample</span>(</span>
<span id="cb5-53"><a href="#cb5-53" aria-hidden="true" tabindex="-1"></a>        <span class="at">x =</span> whodas_responses,</span>
<span id="cb5-54"><a href="#cb5-54" aria-hidden="true" tabindex="-1"></a>        <span class="at">size =</span> <span class="dv">10</span>,</span>
<span id="cb5-55"><a href="#cb5-55" aria-hidden="true" tabindex="-1"></a>        <span class="at">replace =</span> T)</span>
<span id="cb5-56"><a href="#cb5-56" aria-hidden="true" tabindex="-1"></a>      )</span>
<span id="cb5-57"><a href="#cb5-57" aria-hidden="true" tabindex="-1"></a>    )</span>
<span id="cb5-58"><a href="#cb5-58" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-59"><a href="#cb5-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-60"><a href="#cb5-60" aria-hidden="true" tabindex="-1"></a>The sample data is presented in Table @tbl-df-example.</span>
<span id="cb5-61"><a href="#cb5-61" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-64"><a href="#cb5-64" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-65"><a href="#cb5-65" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-df-example</span></span>
<span id="cb5-66"><a href="#cb5-66" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: "Sample data for the WHODAS tutorial"</span></span>
<span id="cb5-67"><a href="#cb5-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-68"><a href="#cb5-68" aria-hidden="true" tabindex="-1"></a>df_whodas</span>
<span id="cb5-69"><a href="#cb5-69" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-70"><a href="#cb5-70" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-71"><a href="#cb5-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-72"><a href="#cb5-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-73"><a href="#cb5-73" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-74"><a href="#cb5-74" aria-hidden="true" tabindex="-1"></a><span class="fu"># Recoding and Computing WHODAS Scores</span></span>
<span id="cb5-75"><a href="#cb5-75" aria-hidden="true" tabindex="-1"></a>Now that we have our data, we'll define a function to recode the responses and compute the WHODAS scores. This function takes in the WHODAS data and an optional argument to specify whether to include remunerated work items in the computation.</span>
<span id="cb5-76"><a href="#cb5-76" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-77"><a href="#cb5-77" aria-hidden="true" tabindex="-1"></a>This function takes two arguments:</span>
<span id="cb5-78"><a href="#cb5-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-79"><a href="#cb5-79" aria-hidden="true" tabindex="-1"></a><span class="ss">1. </span><span class="in">`dat`</span>: The dataset containing the WHODAS 2.0 responses.</span>
<span id="cb5-80"><a href="#cb5-80" aria-hidden="true" tabindex="-1"></a><span class="ss">2. </span><span class="in">`remunarated_work_items`</span>: A flag (either TRUE or FALSE) indicating whether to include remunerated work items in the computation. The default is FALSE.</span>
<span id="cb5-81"><a href="#cb5-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-82"><a href="#cb5-82" aria-hidden="true" tabindex="-1"></a>The <span class="in">`f_recode_whodas`</span> function performs the following tasks:</span>
<span id="cb5-83"><a href="#cb5-83" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-84"><a href="#cb5-84" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Checks for the presence of required columns in the dataset.</span>
<span id="cb5-85"><a href="#cb5-85" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Recodes the responses based on specified rules.</span>
<span id="cb5-86"><a href="#cb5-86" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Computes summary scores for each domain (e.g., <span class="in">`Do1`</span>, <span class="in">`Do2`</span>, etc.).</span>
<span id="cb5-87"><a href="#cb5-87" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Calculates the overall WHODAS summary score (<span class="in">`st_s32`</span> or <span class="in">`st_s36`</span>), with or without the remunerated work items.</span>
<span id="cb5-88"><a href="#cb5-88" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Adjusts the domain and overall summary scores by applying weights to normalize the scores to a 100-point scale.</span>
<span id="cb5-89"><a href="#cb5-89" aria-hidden="true" tabindex="-1"></a><span class="ss">- </span>Returns the original dataset with additional columns for the domain and overall summary scores.</span>
<span id="cb5-90"><a href="#cb5-90" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-93"><a href="#cb5-93" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-94"><a href="#cb5-94" aria-hidden="true" tabindex="-1"></a><span class="co">#| code-fold: show</span></span>
<span id="cb5-95"><a href="#cb5-95" aria-hidden="true" tabindex="-1"></a>f_recode_whodas <span class="ot">&lt;-</span> <span class="cf">function</span>(dat,</span>
<span id="cb5-96"><a href="#cb5-96" aria-hidden="true" tabindex="-1"></a>                            <span class="at">remunarated_work_items =</span> F) {</span>
<span id="cb5-97"><a href="#cb5-97" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-98"><a href="#cb5-98" aria-hidden="true" tabindex="-1"></a>  <span class="co"># List of original column names and corresponding new column names</span></span>
<span id="cb5-99"><a href="#cb5-99" aria-hidden="true" tabindex="-1"></a>  col_names <span class="ot">&lt;-</span> <span class="fu">c</span>(</span>
<span id="cb5-100"><a href="#cb5-100" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D1_1"</span>, <span class="st">"D1_2"</span>, <span class="st">"D1_3"</span>, <span class="st">"D1_4"</span>, <span class="st">"D1_5"</span>, <span class="st">"D1_6"</span>,</span>
<span id="cb5-101"><a href="#cb5-101" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D2_1"</span>, <span class="st">"D2_2"</span>, <span class="st">"D2_3"</span>, <span class="st">"D2_4"</span>, <span class="st">"D2_5"</span>,</span>
<span id="cb5-102"><a href="#cb5-102" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D3_1"</span>, <span class="st">"D3_2"</span>, <span class="st">"D3_3"</span>, <span class="st">"D3_4"</span>,</span>
<span id="cb5-103"><a href="#cb5-103" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D4_1"</span>, <span class="st">"D4_2"</span>, <span class="st">"D4_3"</span>, <span class="st">"D4_4"</span>, <span class="st">"D4_5"</span>,</span>
<span id="cb5-104"><a href="#cb5-104" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D5_2"</span>, <span class="st">"D5_3"</span>, <span class="st">"D5_4"</span>, <span class="st">"D5_5"</span>, </span>
<span id="cb5-105"><a href="#cb5-105" aria-hidden="true" tabindex="-1"></a>    <span class="st">"D6_1"</span>, <span class="st">"D6_2"</span>, <span class="st">"D6_3"</span>, <span class="st">"D6_4"</span>, <span class="st">"D6_5"</span>, <span class="st">"D6_6"</span>, <span class="st">"D6_7"</span>, <span class="st">"D6_8"</span></span>
<span id="cb5-106"><a href="#cb5-106" aria-hidden="true" tabindex="-1"></a>  )</span>
<span id="cb5-107"><a href="#cb5-107" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-108"><a href="#cb5-108" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Include additional columns for remunerated work items if specified</span></span>
<span id="cb5-109"><a href="#cb5-109" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (remunarated_work_items) {</span>
<span id="cb5-110"><a href="#cb5-110" aria-hidden="true" tabindex="-1"></a>    col_names <span class="ot">&lt;-</span> <span class="fu">c</span>(col_names, <span class="st">"D5_8"</span>, <span class="st">"D5_9"</span>, <span class="st">"D5_10"</span>, <span class="st">"D5_11"</span>)</span>
<span id="cb5-111"><a href="#cb5-111" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-112"><a href="#cb5-112" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-113"><a href="#cb5-113" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-114"><a href="#cb5-114" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Check for the presence of required columns in the input dataset</span></span>
<span id="cb5-115"><a href="#cb5-115" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(<span class="fu">length</span>(<span class="fu">setdiff</span>(col_names, <span class="fu">names</span>(dat))) <span class="sc">&gt;</span> <span class="dv">0</span>) <span class="fu">stop</span>(<span class="fu">cat</span>(</span>
<span id="cb5-116"><a href="#cb5-116" aria-hidden="true" tabindex="-1"></a>    <span class="st">"All WHO-DAS D columns need to be present in dat. The following are missing:"</span>,</span>
<span id="cb5-117"><a href="#cb5-117" aria-hidden="true" tabindex="-1"></a>    <span class="fu">setdiff</span>(col_names, <span class="fu">names</span>(dat))))</span>
<span id="cb5-118"><a href="#cb5-118" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-119"><a href="#cb5-119" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Generate new column names by removing underscores</span></span>
<span id="cb5-120"><a href="#cb5-120" aria-hidden="true" tabindex="-1"></a>  new_col_names <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"_"</span>, <span class="st">""</span>, col_names)</span>
<span id="cb5-121"><a href="#cb5-121" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-122"><a href="#cb5-122" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Define recode rules for general and specific columns</span></span>
<span id="cb5-123"><a href="#cb5-123" aria-hidden="true" tabindex="-1"></a>  recode_rules_general <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)</span>
<span id="cb5-124"><a href="#cb5-124" aria-hidden="true" tabindex="-1"></a>  recode_rules_specific <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">2</span>)</span>
<span id="cb5-125"><a href="#cb5-125" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-126"><a href="#cb5-126" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Iterate over each column to apply recode rules</span></span>
<span id="cb5-127"><a href="#cb5-127" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (i <span class="cf">in</span> <span class="fu">seq_along</span>(col_names)) {</span>
<span id="cb5-128"><a href="#cb5-128" aria-hidden="true" tabindex="-1"></a>    original_col_name <span class="ot">&lt;-</span> col_names[i]</span>
<span id="cb5-129"><a href="#cb5-129" aria-hidden="true" tabindex="-1"></a>    new_col_name <span class="ot">&lt;-</span> new_col_names[i]</span>
<span id="cb5-130"><a href="#cb5-130" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-131"><a href="#cb5-131" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Apply specific recode rules for certain columns</span></span>
<span id="cb5-132"><a href="#cb5-132" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (original_col_name <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"D1_5"</span>, <span class="st">"D1_6"</span>, <span class="st">"D2_2"</span>, <span class="st">"D2_3"</span>, <span class="st">"D3_1"</span>, <span class="st">"D3_3"</span>, <span class="st">"D3_4"</span>, </span>
<span id="cb5-133"><a href="#cb5-133" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"D4_1"</span>, <span class="st">"D4_2"</span>, <span class="st">"D4_3"</span>, <span class="st">"D4_5"</span>, <span class="st">"D5_2"</span>, <span class="st">"D5_3"</span>, <span class="st">"D5_5"</span>, </span>
<span id="cb5-134"><a href="#cb5-134" aria-hidden="true" tabindex="-1"></a>                                 <span class="st">"D5_8"</span>, <span class="st">"D6_1"</span>, <span class="st">"D6_3"</span>, <span class="st">"D6_6"</span>, <span class="st">"D6_8"</span>)) {</span>
<span id="cb5-135"><a href="#cb5-135" aria-hidden="true" tabindex="-1"></a>      dat[[new_col_name]] <span class="ot">&lt;-</span> recode_rules_specific[dat[[original_col_name]]]</span>
<span id="cb5-136"><a href="#cb5-136" aria-hidden="true" tabindex="-1"></a>    } <span class="cf">else</span> {</span>
<span id="cb5-137"><a href="#cb5-137" aria-hidden="true" tabindex="-1"></a>      dat[[new_col_name]] <span class="ot">&lt;-</span> recode_rules_general[dat[[original_col_name]]]</span>
<span id="cb5-138"><a href="#cb5-138" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb5-139"><a href="#cb5-139" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-140"><a href="#cb5-140" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-141"><a href="#cb5-141" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Summary scores of domains (do), where domain 1 is abbreviated as Do1, etc.</span></span>
<span id="cb5-142"><a href="#cb5-142" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do1 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D11 <span class="sc">+</span> dat<span class="sc">$</span>D12 <span class="sc">+</span> dat<span class="sc">$</span>D13 <span class="sc">+</span> dat<span class="sc">$</span>D14 <span class="sc">+</span> dat<span class="sc">$</span>D15 <span class="sc">+</span> dat<span class="sc">$</span>D16)</span>
<span id="cb5-143"><a href="#cb5-143" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do2 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D21 <span class="sc">+</span> dat<span class="sc">$</span>D22 <span class="sc">+</span> dat<span class="sc">$</span>D23 <span class="sc">+</span> dat<span class="sc">$</span>D24 <span class="sc">+</span> dat<span class="sc">$</span>D25)</span>
<span id="cb5-144"><a href="#cb5-144" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do3 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D31 <span class="sc">+</span> dat<span class="sc">$</span>D32 <span class="sc">+</span> dat<span class="sc">$</span>D33 <span class="sc">+</span> dat<span class="sc">$</span>D34)</span>
<span id="cb5-145"><a href="#cb5-145" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do4 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D41 <span class="sc">+</span> dat<span class="sc">$</span>D42 <span class="sc">+</span> dat<span class="sc">$</span>D43 <span class="sc">+</span> dat<span class="sc">$</span>D44 <span class="sc">+</span> dat<span class="sc">$</span>D45)</span>
<span id="cb5-146"><a href="#cb5-146" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do51 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D52 <span class="sc">+</span> dat<span class="sc">$</span>D53 <span class="sc">+</span> dat<span class="sc">$</span>D54 <span class="sc">+</span> dat<span class="sc">$</span>D55)</span>
<span id="cb5-147"><a href="#cb5-147" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do6 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D61 <span class="sc">+</span> dat<span class="sc">$</span>D62 <span class="sc">+</span> dat<span class="sc">$</span>D63 <span class="sc">+</span> dat<span class="sc">$</span>D64 <span class="sc">+</span> dat<span class="sc">$</span>D65 <span class="sc">+</span> dat<span class="sc">$</span>D66 <span class="sc">+</span> </span>
<span id="cb5-148"><a href="#cb5-148" aria-hidden="true" tabindex="-1"></a>                dat<span class="sc">$</span>D67 <span class="sc">+</span> dat<span class="sc">$</span>D68)</span>
<span id="cb5-149"><a href="#cb5-149" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-150"><a href="#cb5-150" aria-hidden="true" tabindex="-1"></a>  <span class="co"># WHODAS summary score without remunerated work items</span></span>
<span id="cb5-151"><a href="#cb5-151" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>st_s32 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do1 <span class="sc">+</span> dat<span class="sc">$</span>Do2 <span class="sc">+</span> dat<span class="sc">$</span>Do3 <span class="sc">+</span> dat<span class="sc">$</span>Do4 <span class="sc">+</span> dat<span class="sc">$</span>Do51 <span class="sc">+</span> dat<span class="sc">$</span>Do6 </span>
<span id="cb5-152"><a href="#cb5-152" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-153"><a href="#cb5-153" aria-hidden="true" tabindex="-1"></a>   <span class="co"># Include remunerated work items if specified</span></span>
<span id="cb5-154"><a href="#cb5-154" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(remunarated_work_items){</span>
<span id="cb5-155"><a href="#cb5-155" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-156"><a href="#cb5-156" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Domain summary score for remunerated</span></span>
<span id="cb5-157"><a href="#cb5-157" aria-hidden="true" tabindex="-1"></a>    dat<span class="sc">$</span>Do52 <span class="ot">&lt;-</span> (dat<span class="sc">$</span>D58 <span class="sc">+</span> dat<span class="sc">$</span>D59 <span class="sc">+</span> dat<span class="sc">$</span>D510 <span class="sc">+</span> dat<span class="sc">$</span>D511)</span>
<span id="cb5-158"><a href="#cb5-158" aria-hidden="true" tabindex="-1"></a>    </span>
<span id="cb5-159"><a href="#cb5-159" aria-hidden="true" tabindex="-1"></a>    <span class="co"># WHODAS summary score without remunerated work items</span></span>
<span id="cb5-160"><a href="#cb5-160" aria-hidden="true" tabindex="-1"></a>    dat<span class="sc">$</span>st_s36 <span class="ot">&lt;-</span> dat<span class="sc">$</span>st_s32 <span class="sc">+</span> dat<span class="sc">$</span>Do52</span>
<span id="cb5-161"><a href="#cb5-161" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-162"><a href="#cb5-162" aria-hidden="true" tabindex="-1"></a>   </span>
<span id="cb5-163"><a href="#cb5-163" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Apply weights to normalize domain and overall summary scores to a 100-point scale</span></span>
<span id="cb5-164"><a href="#cb5-164" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do1 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do1 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">20</span></span>
<span id="cb5-165"><a href="#cb5-165" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do2 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do2 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">16</span></span>
<span id="cb5-166"><a href="#cb5-166" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do3 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do3 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">10</span></span>
<span id="cb5-167"><a href="#cb5-167" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do4 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do4 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">12</span></span>
<span id="cb5-168"><a href="#cb5-168" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do51 <span class="ot">&lt;-</span>dat<span class="sc">$</span>Do51 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">10</span></span>
<span id="cb5-169"><a href="#cb5-169" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>Do6 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do6 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">24</span></span>
<span id="cb5-170"><a href="#cb5-170" aria-hidden="true" tabindex="-1"></a>  dat<span class="sc">$</span>st_s32 <span class="ot">&lt;-</span>  dat<span class="sc">$</span>st_s32 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">92</span></span>
<span id="cb5-171"><a href="#cb5-171" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-172"><a href="#cb5-172" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span>(remunarated_work_items){</span>
<span id="cb5-173"><a href="#cb5-173" aria-hidden="true" tabindex="-1"></a>    dat<span class="sc">$</span>Do52 <span class="ot">&lt;-</span> dat<span class="sc">$</span>Do52 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">14</span></span>
<span id="cb5-174"><a href="#cb5-174" aria-hidden="true" tabindex="-1"></a>      dat<span class="sc">$</span>st_s36 <span class="ot">&lt;-</span> dat<span class="sc">$</span>st_s36 <span class="sc">*</span> <span class="dv">100</span><span class="sc">/</span><span class="dv">106</span></span>
<span id="cb5-175"><a href="#cb5-175" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb5-176"><a href="#cb5-176" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb5-177"><a href="#cb5-177" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Return the dataset with additional summary score columns</span></span>
<span id="cb5-178"><a href="#cb5-178" aria-hidden="true" tabindex="-1"></a>  dat</span>
<span id="cb5-179"><a href="#cb5-179" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb5-180"><a href="#cb5-180" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-181"><a href="#cb5-181" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-182"><a href="#cb5-182" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-183"><a href="#cb5-183" aria-hidden="true" tabindex="-1"></a><span class="fu"># Running the function</span></span>
<span id="cb5-184"><a href="#cb5-184" aria-hidden="true" tabindex="-1"></a>To execute the function, we can pass the dataset as the <span class="in">`dat`</span> argument. If the dataset includes remunerated work items, set <span class="in">`remunarated_work_items`</span> to <span class="in">`TRUE`</span>. The function will return a new dataset with the computed domain and overall summary scores.</span>
<span id="cb5-185"><a href="#cb5-185" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-186"><a href="#cb5-186" aria-hidden="true" tabindex="-1"></a>The result is shown in Table @tbl-df-result.</span>
<span id="cb5-187"><a href="#cb5-187" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-190"><a href="#cb5-190" aria-hidden="true" tabindex="-1"></a><span class="in">```{r}</span></span>
<span id="cb5-191"><a href="#cb5-191" aria-hidden="true" tabindex="-1"></a><span class="co">#| label: tbl-df-result</span></span>
<span id="cb5-192"><a href="#cb5-192" aria-hidden="true" tabindex="-1"></a><span class="co">#| tbl-cap: Results table after appyling function f_recode_whodas</span></span>
<span id="cb5-193"><a href="#cb5-193" aria-hidden="true" tabindex="-1"></a><span class="fu">f_recode_whodas</span>(<span class="at">dat =</span> df_whodas, <span class="at">remunarated_work_items =</span> T)</span>
<span id="cb5-194"><a href="#cb5-194" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb5-195"><a href="#cb5-195" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-196"><a href="#cb5-196" aria-hidden="true" tabindex="-1"></a><span class="fu"># Conclusion</span></span>
<span id="cb5-197"><a href="#cb5-197" aria-hidden="true" tabindex="-1"></a>With the <span class="in">`f_recode_whodas`</span> function, calculating WHODAS 2.0 scores in R is now straightforward. We can easily integrate this function into the data analysis workflow to compute disability scores.</span>
</code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->



</body></html>